(function(e){function t(t){for(var n,r,s=t[0],i=t[1],u=t[2],l=0,d=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&d.push(c[r][0]),c[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,r=1;r<o.length;r++){var s=o[r];0!==c[s]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},r={app:0},c={app:0},a=[];function s(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"9e1c3f70"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(e){var t=[],o={about:1};r[e]?t.push(r[e]):0!==r[e]&&o[e]&&t.push(r[e]=new Promise((function(t,o){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"87e9e2d9"}[e]+".css",c=i.p+n,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===c))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===n||l===c)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||c,a=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=n,delete r[e],p.parentNode.removeChild(p),o(a)},p.href=c;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[e]=0})));var n=c[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,o){n=c[e]=[t,o]}));t.push(n[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var o=c[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,o[1](d)}c[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"47e5":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("7a23"),r=Object(n["createVNode"])("div",{class:"ImgMain"},null,-1);function c(e,t,o,c,a,s){var i=Object(n["resolveComponent"])("app-header"),u=Object(n["resolveComponent"])("router-view"),l=Object(n["resolveComponent"])("app-footer");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(i),Object(n["createVNode"])(u),r,Object(n["createVNode"])(l)],64)}o("159b");var a=o("eb52"),s=o.n(a),i=Object(n["withScopeId"])("data-v-f42de20a");Object(n["pushScopeId"])("data-v-f42de20a");var u={class:"Header"},l={class:"Wrapp Container"},d=Object(n["createVNode"])("img",{src:s.a,class:"Logo",alt:"Logo"},null,-1),p={class:"Wrapp"},f={class:"Menu"},m={class:"Authorization"},b=Object(n["createTextVNode"])("войти"),g=Object(n["createTextVNode"])("выйти"),h=Object(n["createTextVNode"])("зарегистрироваться"),O={key:3,class:"Checked"};Object(n["popScopeId"])();var j=i((function(e,t,o,r,c,a){var s=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createBlock"])("nav",u,[Object(n["createVNode"])("div",l,[d,Object(n["createVNode"])("div",p,[Object(n["createVNode"])("div",f,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(c.menu.menu,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"MenuItem",key:e},[Object(n["createVNode"])("a",{class:["MenuLink",{drop:(null===e||void 0===e?void 0:e.subMenu.length)>0}],onClick:function(t){return a.dropMenu(e.linkName)},href:"#"},Object(n["toDisplayString"])(e.linkName),11,["onClick"]),Object(n["createVNode"])("div",{class:["DropMenu",{active:e.isDrop}],ref:"drop"},[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.subMenu,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("a",{class:"DropMenuLink MenuLink",href:"",key:e},Object(n["toDisplayString"])(e),1)})),128))],2)])})),128))]),Object(n["createVNode"])("div",m,[a.loginUser?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:0,to:"/login",class:"Button",onClick:Object(n["withModifiers"])(a.openModalLogIn,["prevent"])},{default:i((function(){return[b]})),_:1},8,["onClick"])),a.loginUser?(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:1,to:"/",class:"Button",onClick:Object(n["withModifiers"])(a.logOut,["prevent"])},{default:i((function(){return[g]})),_:1},8,["onClick"])):Object(n["createCommentVNode"])("",!0),a.loginUser?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:2,to:"/checkin",class:"ButtonGradient",onClick:Object(n["withModifiers"])(a.openModalCheckin,["prevent"])},{default:i((function(){return[h]})),_:1},8,["onClick"])),a.loginUser?(Object(n["openBlock"])(),Object(n["createBlock"])("div",O,Object(n["toDisplayString"])(a.loginUser),1)):Object(n["createCommentVNode"])("",!0)])])])])})),v={emits:{openModalCheckIn:null,ModalLogIn:null},data:function(){return{menu:[],activeDrop:!1}},computed:{loginUser:function(){return this.$store.state.logIn.loginUser.username}},created:function(){this.$store.dispatch("loadMenu"),this.menu=this.$store.state.menu},methods:{dropMenu:function(e){this.menu.menu.forEach((function(t){!1===t.isDrop&&t.linkName===e?t.isDrop=!0:t.isDrop=!1}))},openModalCheckin:function(){this.$emit("openModalCheckIn")},openModalLogIn:function(){this.$emit("ModalLogIn")},logOut:function(){this.$store.commit("logOut")}}};o("d558");v.render=j,v.__scopeId="data-v-f42de20a";var k=v,M={class:"Footer Container"},y=Object(n["createVNode"])("div",{class:"FooterItem"},[Object(n["createVNode"])("img",{src:s.a,alt:""}),Object(n["createVNode"])("div",{class:"Descr"},"Бронирование номеров в лучшем отеле 2019 года по версии ассоциации «Отельные взгляды»")],-1),N=Object(n["createVNode"])("div",{class:"FooterItem"},[Object(n["createVNode"])("div",{class:"FooterItemMenu"},"Подписка"),Object(n["createVNode"])("div",{class:"FooterItemMenu"},"Получайте специальные предложения и новости сервиса"),Object(n["createVNode"])("input",{class:"Input",type:"text"})],-1),B=Object(n["createStaticVNode"])('<div class="Line"></div><div class="SubFooter Container"><div class="Copyright">Copyright © 2018 Toxin отель. Все права защищены.</div><div class="SocialBlock "><a class="SocialLink Twitter"></a><a class="SocialLink Facebook"></a><a class="SocialLink Instagram"></a></div></div>',2);function C(e,t,o,r,c,a){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])("div",M,[y,(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.footer.footer,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"FooterItem",key:e},[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("a",{to:"#",class:"FooterItemMenu",key:e},Object(n["toDisplayString"])(e),1)})),128))])})),128)),N]),B],64)}var w={computed:{footer:function(){return this.$store.state.footer}},created:function(){this.$store.dispatch("loadFooterMenu")}};o("e027");w.render=C;var I=w,L={data:function(){return{}},components:{appHeader:k,appFooter:I},methods:{event:function(){var e=this;document.addEventListener("click",(function(t){"MenuLink"!==t.target.className&&"MenuLink drop"!==t.target.className&&e.$store.state.menu.menu.forEach((function(e){e.isDrop=!1}))}))},openModalCheckIn:function(){this.isCloseCheckIn=!0},closeModalCheckIn:function(){this.isCloseCheckIn=!1},openModalLogIn:function(){console.log("открыть вход"),this.isCloseLogIn=!0},closeModalLogIn:function(){this.isCloseLogIn=!1}},computed:{getUser:function(){return this.$store.state.loginUser}},created:function(){var e=JSON.parse(localStorage.getItem("user"));console.log(e),e&&this.$store.commit("localStorage",e),console.log(Object({NODE_ENV:"production",VUE_APP_BASE_URL:"https://toxin-new.herokuapp.com",BASE_URL:"/"}).VUE_BASE_URL,"test")}};o("cd2a");L.render=c;var S=L,U=(o("d3b7"),o("3ca3"),o("ddb0"),o("6c02"));function V(e,t,o,r,c,a){return Object(n["openBlock"])(),Object(n["createBlock"])("div")}var E={};E.render=V;var x=E,_=[{path:"/",name:"Home",component:x},{path:"/checkin",name:"CheckIn",props:!0,component:function(){return o.e("about").then(o.bind(null,"1e25"))}},{path:"/login",name:"LogIn",component:function(){return o.e("about").then(o.bind(null,"9ddf"))}},{path:"/searchRoom",name:"SearchRoom",component:function(){return o.e("about").then(o.bind(null,"47e0"))}}],F=Object(U["a"])({history:Object(U["b"])("/"),routes:_}),D=F,A=o("5502"),P=o("1da1"),T=(o("96cf"),o("d81d"),o("b0c0"),o("bc3a")),$=o.n(T),R={state:{menu:[]},mutations:{updateMenu:function(e,t){e.menu=t}},actions:{loadMenu:function(e){return Object(P["a"])(regeneratorRuntime.mark((function t(){var o,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,n=[],t.next=4,$.a.get("".concat("https://toxin-new.herokuapp.com","/menus"));case 4:r=t.sent,r.data.forEach((function(e){n.push({linkName:e.Name,isDrop:!1,subMenu:e.sub_menus.map((function(e){return e.name}))})})),o("updateMenu",n);case 7:case"end":return t.stop()}}),t)})))()}},getters:{}},H={state:{footer:{}},mutations:{updateFooterMenu:function(e,t){e.footer=t}},actions:{loadFooterMenu:function(e){return Object(P["a"])(regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.next=3,$.a.get("".concat("https://toxin-new.herokuapp.com","/footers"));case 3:n=t.sent,o("updateFooterMenu",n.data[0].footerMenu),console.log(n.data[0].footerMenu,"footer");case 6:case"end":return t.stop()}}),t)})))()}},getters:{}},J={state:{user:{}},mutations:{setUser:function(e,t){e.user=t}},actions:{createNewUser:function(e,t){var o=e.commit,n=t.name,r=t.email,c=t.password;$.a.post("".concat("https://toxin-new.herokuapp.com","/auth/local/register"),{username:n,email:r,password:c}).then((function(e){console.log("Well done!"),console.log("User profile",e.data.user),console.log("User token",e.data.jwt),o("setUser",e.data.user)})).catch((function(e){console.log("An error occurred:",e.response)}))}},getters:{}},W={state:{loginUser:{},loginUserError:{}},mutations:{updateUser:function(e,t){e.loginUser=t},updateUserError:function(e,t){e.loginUserError=t},localStorage:function(e,t){e.loginUser=t},logOut:function(e){e.loginUser={},localStorage.setItem("user",{})}},actions:{logInUser:function(e,t){var o=e.commit,n=t.email,r=t.password;$.a.post("".concat("https://toxin-new.herokuapp.com","/auth/local"),{identifier:n,password:r}).then((function(e){console.log("Well done!"),console.log("User profile",e.data.user),console.log("User token",e.data.jwt),o("updateUser",e.data.user),localStorage.setItem("user",JSON.stringify(e.data.user))})).catch((function(e){console.log("An error occurred:",e.response),o("updateUserError",e.response)}))}},getters:{}},q=Object(A["a"])({state:{},mutations:{},actions:{},getters:{},modules:{menu:R,footer:H,checkIn:J,logIn:W}});o("77ed"),o("f5df1"),o("3052");Object(n["createApp"])(S).use(q).use(D).mount("#app")},"836d":function(e,t,o){},cd2a:function(e,t,o){"use strict";o("47e5")},d558:function(e,t,o){"use strict";o("d7b6")},d7b6:function(e,t,o){},e027:function(e,t,o){"use strict";o("836d")},eb52:function(e,t,o){e.exports=o.p+"img/LogoHeader.39de4848.svg"}});
//# sourceMappingURL=app.8b13ede9.js.map